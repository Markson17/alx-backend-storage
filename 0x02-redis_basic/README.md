
## 0x02 - Writing strings to Redis

### `exercise.py`

This module contains the implementation of the `Cache` class that allows writing strings to Redis. The `Cache` class has the following methods:

#### `__init__(self)`

- Initializes an instance of the `Cache` class and creates a private variable `_redis` to store a Redis client instance using `redis.Redis()`.
- Flushes the Redis instance using `flushdb()` to clear any previous data.

#### `store(self, data: Union[str, bytes, int, float]) -> str`

- Takes a data argument of type `str`, `bytes`, `int`, or `float`.
- Generates a random key using `uuid` and stores the input data in Redis using the random key.
- Returns the generated random key.

## 1. Reading from Redis and recovering the original type

### `exercise.py`

This module contains the implementation of the `Cache` class that allows reading from Redis and recovering the original type of the data. The `Cache` class has the following methods:

#### `__init__(self)`

- Initializes an instance of the `Cache` class and creates a private variable `_redis` to store a Redis client instance using `redis.Redis()`.
- Flushes the Redis instance using `flushdb()` to clear any previous data.

#### `get(self, key: str, fn: Optional[Callable] = None) -> Union[str, bytes, int, float]`

- Takes a key string argument and an optional `Callable` argument named `fn`, which is used to convert the data back to the desired format.
- Returns the data stored in Redis associated with the provided key.
- If `fn` is provided, the data is converted using the provided conversion function.

#### `get_str(self, key: str) -> str`

- Automatically parametrizes `Cache.get` with the correct conversion function for strings (i.e., `decode("utf-8")`).

#### `get_int(self, key: str) -> int`

- Automatically parametrizes `Cache.get` with the correct conversion function for integers.

## 2. Incrementing values

### `exercise.py`

This module contains the implementation of the `Cache` class with a `count_calls` decorator. The `count_calls` decorator takes a single method `Callable` argument and returns a `Callable`.

#### `Cache`

- `__init__(self)`: Initializes an instance of the `Cache` class and creates a private variable `_redis` to store a Redis client instance using `redis.Redis()`. Flushes the Redis instance using `flushdb()` to clear any previous data.

#### `count_calls(fn: Callable) -> Callable`

- A decorator function that takes a method `Callable` as an argument and returns a new function.
- The new function increments the count for the method's qualified name (using `__qualname__`) in Redis every time the method is called.
- It returns the value returned by the original method.

## 3. Storing lists

### `exercise.py`

This module contains the implementation of the `Cache` class with a `call_history` decorator. The `call_history` decorator stores the history of inputs and outputs for a particular function in Redis.

#### `Cache`

- `__init__(self)`: Initializes an instance of the `Cache` class and creates a private variable `_redis` to store a Redis client instance using `redis.Redis()`. Flushes the Redis instance using `flushdb()` to clear any previous data.

#### `call_history(method: Callable) -> Callable`

- A decorator function that takes a method `Callable` as an argument and returns a new function.
- The new function uses `rpush` to append the input arguments to a Redis list key in the format "`method:inputs`".
- The output of the original method is stored using `rpush` in the Redis list key "`method:outputs`".
- It then returns the output.

## 4. Retrieving lists

### `exercise.py`

This module contains the implementation of the `Cache` class with a `replay` function to display the history of calls of a particular function.

#### `Cache`

- `__init__(self)`: Initializes an instance of the `Cache` class and creates a private variable `_redis` to store a Redis client instance using `redis.Redis()`. Flushes the Redis instance using `flushdb()` to clear any previous data.

#### `replay(method: Callable)`

- A function that displays the history of calls of a particular function in the format "`method was called X times:`".
- It uses the Redis lists generated by the `call_history` decorator.

## 5. Implementing an expiring web cache and tracker (Advanced)

### `web.py`

This module contains the implementation of the `get_page` function, which fetches the HTML content of a particular URL using the `requests` module.

#### `get_page(url: str) -> str`

- A function that takes a URL as input and uses the `requests` module to fetch the HTML content of the URL.
- The function tracks the number of times the URL was accessed using Redis with the key "`count:{url}`".
- The result is cached with an expiration time of 10 seconds. 

